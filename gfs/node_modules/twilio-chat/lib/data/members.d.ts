/// <reference types="node" />
import { EventEmitter } from 'events';
import { MemberDescriptor, Member } from '../member';
import { Channel } from '../channel';
import { SyncMap, SyncClient } from 'twilio-sync';
import { Users } from './users';
import { CommandExecutor } from '../commandexecutor';
import { JoinChannelResponse } from '../interfaces/commands/joinchannel';
import { Configuration } from '../configuration';
export interface MembersServices {
    syncClient: SyncClient;
    users: Users;
    commandExecutor: CommandExecutor;
}
interface MembersLinks {
    participants: string;
}
/**
 * @classdesc Represents the collection of members for the channel
 * @fires Members#memberJoined
 * @fires Members#memberLeft
 * @fires Members#memberUpdated
 */
declare class Members extends EventEmitter {
    readonly channel: Channel;
    readonly members: Map<string, Member>;
    private readonly links;
    private readonly configuration;
    private readonly services;
    rosterEntityPromise: Promise<SyncMap>;
    constructor(channel: Channel, members: Map<string, Member>, links: MembersLinks, configuration: Configuration, services: MembersServices);
    unsubscribe(): Promise<void>;
    subscribe(rosterObjectName: string): Promise<SyncMap>;
    upsertMember(memberSid: string, data: MemberDescriptor): Promise<Member>;
    /**
     * @returns {Promise<Array<Member>>} returns list of members {@see Member}
     */
    getMembers(): Promise<Array<Member>>;
    /**
     * Get member by SID from channel
     * @returns {Promise<Member>}
     */
    getMemberBySid(memberSid: string): Promise<Member>;
    /**
     * Get member by identity from channel
     * @returns {Promise<Member>}
     */
    getMemberByIdentity(identity: string): Promise<Member>;
    /**
     * Add user to the channel
     * @returns {Promise<any>}
     */
    add(identity: string): Promise<JoinChannelResponse>;
    /**
     * Invites user to the channel
     * User can choose either to join or not
     * @returns {Promise<any>}
     */
    invite(identity: string): Promise<any>;
    /**
     * Remove member from channel
     * @returns {Promise<any>}
     */
    remove(identity: string): Promise<void>;
}
export { Members };
/**
 * Fired when member joined channel
 * @event Members#memberJoined
 * @type {Member}
 */
/**
 * Fired when member left channel
 * @event Members#memberLeft
 * @type {Member}
 */
/**
 * Fired when member updated
 * @event Members#memberUpdated
 * @type {Object}
 * @property {Member} member - Updated Member
 * @property {Member#UpdateReason[]} updateReasons - Array of Member's updated event reasons
 */
